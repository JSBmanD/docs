{% extends "base.html" %}

<!-- Analytic scripts -->
{% block analytics %}

{{ super() }}

  <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="7b71d939-6959-42f9-832a-f4237fe8e243" async></script>
  {% if config.extra.sources.google %}
    <style>.async-hide{opacity:0!important}</style>
    <script data-cookieconsent="marketing" type="text/plain">(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date; h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')}; (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c; })(window,document.documentElement,'async-hide','dataLayer',1000, {'{{ config.extra.sources.google.optimize }}':true});</script>
  {% endif %}
  {% if config.extra.sources.mixpanel %}
    <script data-cookieconsent="marketing" type="text/plain">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments, 0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "); for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]); mixpanel.init("{{ config.extra.sources.mixpanel }}");</script>
  {% endif %}
  {% if config.extra.sources.google %}
    <script data-cookieconsent="marketing" type="text/plain">
      // Cookie helper functions
      function getCookie(name) {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        if (parts.length >= 2) return parts.pop().split(";").shift();
      }
      function setCookie(name, value, expires_days) {
        var d = new Date();
        d = new Date(d.getTime() + 1000*60*60*24 * expires_days);
        document.cookie = name + '=' + value + '; expires=' + d.toGMTString() + '; path=/; domain=.branch.io';
      }
      var returning_visitor = getCookie('bnc_returning_visitor'); // Cookie will have a value of '1' if user has been seen before, or won't exist if not
      var page_url = window.location.host + window.location.pathname; // Page URL for first time visitor attribution
      setCookie('bnc_returning_visitor', "1", 30); // Extend first time visitor attribution window to 30 days from current visit
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', '{{ config.extra.sources.google.analytics }}', 'auto');
      ga('require', '{{ config.extra.sources.google.optimize }}');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
      ga('require', 'linkid', 'linkid.js');
      // Set initial landing page URL for first time visitors
      if (!returning_visitor) {
        ga('set', 'dimension1', page_url );
      }
    </script>
  {% endif %}
  {% if config.extra.sources.facebook %}
    <script data-cookieconsent="marketing" type="text/plain">
      !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
      n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
      document,'script','https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '{{ config.extra.sources.facebook }}');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id={{ config.extra.sources.facebook }}&ev=PageView&noscript=1"></noscript>
  {% endif %}
  {% if config.extra.sources.linkedin %}
    <script data-cookieconsent="marketing" type="text/plain">
      _linkedin_data_partner_id = "{{ config.extra.sources.linkedin }}";
      (function() {var s = document.getElementsByTagName("script")[0]; var b = document.createElement("script"); b.type = "text/javascript";b.async = true; b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js"; s.parentNode.insertBefore(b, s);} )();
    </script>
  {% endif %}
  {% if config.extra.sources.bizible %}
    <script data-cookieconsent="marketing" type="text/plain" src="//cdn.bizible.com/scripts/bizible.js" async></script>
  {% endif %}
  {% if config.extra.sources.munchkin %}
    <script data-cookieconsent="marketing" type="text/plain">
      (function() {
        var didInit = false;
        function initMunchkin() {
          if (didInit === false) {
            didInit = true;
            Munchkin.init('{{ config.extra.sources.munchkin }}', { domainLevel: 2 });
          }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
          if (this.readyState == 'complete' || this.readyState == 'loaded') {
            initMunchkin();
          }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>
  {% endif %}
  {% if config.extra.sources.algolia %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
  {% endif %}
{% endblock %}

<!-- Theme-related JavaScript -->
{% block scripts %}

  {{ super() }}

  {% if config.extra.sources.algolia %}
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
    <script>docsearch({
      appId:"{{ config.extra.sources.algolia.appId }}",
      apiKey:"{{ config.extra.sources.algolia.apiKey }}",
      indexName:"{{ config.extra.sources.algolia.index }}",
      inputSelector:"{{ config.extra.sources.algolia.selector }}",
      {% if config.extra.sources.algolia.debug == true %}
        debug:"{{ config.extra.sources.algolia.debug }}",
      {% endif %}
      algoliaOptions:{hitsPerPage:"{{ config.extra.sources.algolia.hits }}", facetFilters: ["lang:/"]}})</script>

  {% endif %}



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

  let currentLang, currentCode;

  SmtMenu = {};  

  (function(){

    // BEGIN SERVER DATA
    SmtMenu.sdata =
    {
      doRedirect    : (typeof smtRedirect != "undefined") ? smtRedirect : false,
        defaultStyles   : (typeof smtDefaultStyles != "undefined") ? smtDefaultStyles : true,
        autoPlace   : (typeof smtAuto != "undefined") ? smtAuto : false,
        preRender   : (typeof smtPreRender != "undefined") ? smtPreRender : null,
        postRender    : (typeof smtPostRender != "undefined") ? smtPostRender : null, 
        settings: (typeof smtAuto != "undefined" && smtAuto === true) ? smtSettings : {}, // if auto on, there must be settings
      openDir: (typeof smtOpenDir != "undefined") ? smtOpenDir : "down",
      scrollThresh: 15,
      stylePath: window.location.protocol + "//cdn01.smartling.com/ls/static/menu-v3.css",  
      sites       : [
      {
                  "en-us" : { code : "en-us", name : "English", host : "docs.branch.io", word : "Language", def : true }
            },  {
                  "en-us" : { code : "en-us", name : "English", host : "staging-docs.branch.io", word : "Language", def : true }
        ,           "ko-kr" : { code : "ko-kr", name : "í•œêµ­ì–´", host : "staging-docs.branch.io", word : "Language", def : false }
        ,           "ja-jp" : { code : "ja-jp", name : "æ—¥æœ¬èªž", host : "staging-docs.branch.io", word : "Language", def : false }
        ,           "zh-cn" : { code : "zh-cn", name : "ä¸­æ–‡", host : "staging-docs.branch.io", word : "Language", def : false }
            }]
    };
    // END SERVER DATA

      
    //END SOURCE CODE

    eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('3 28={3K:{h:{"Z":"3O","2t":"1p","2Y":"1p","16":"36"}},3M:{h:{"Z":"41","43":"1p","2Y":"1p","16":"36"}}};6.1L={2f:S,2B:7(j,B){4(6.8.35){6.8.35(j)}3 3r=(N 33!=\'10\')?33:b.k.t.3V();3 3j=5.2G(f.3f);3 h=5.O("3x");h.v.1h=\'2x\';5.D(h,f.3i);4("1v"n 6.8&&6.8.1v===z){5.D(h,"x-1v")}3 14=5.O("17");5.D(14,f.3z);3 Q=5.O("a");5.D(Q,f.Q);4("3w"n 6.8.f){Q.v.3C=6.8.f.3w}3 1X=5.O("3o");5.D(1X,f.3m);3 1k=5.O("3o");5.D(1k,f.34);4("3n"n 6.8.f){1k.v.2R=6.8.f.3n}3 P=5.2z(3r,j);3 1q,3S,1W;4(P n j){1q=j[P].C;1Y=j[P].1S;1W=P}o{3 G=5.2l(j);1q=G.C;1Y=G.1S;1W=G.X}1k.1O=1q.3P();1X.1O=1Y;Q.Y(1k);14.Y(Q);h.Y(14);3 w=5.O("3x");4("2T"n 6.8.f){w.v.3C=6.8.f.2T}4("Z"n 6.8.f&&6.8.f.Z.1Z(/3L/)!=m){14.3F(w,14.3G[0])}o{14.Y(w)}3 25=b.k.1z.W(/(&|\\?)20=1/,"").W("?","").W(b.k.1d,"").W(/^&/,"");3 29=0;H(3 l n j){29++;3 a=5.O("a");3 17=5.O("17");5.D(17,f.3h);5.D(a,f.2Z);3 2N=(5.2h)?"#":"";3 2S=j[l].G;3 1u=(25.F>0)?25.1c("&"):[];4(2S){1u.3R("20=1")}3 q=(1u.F>0)?"?"+1u.3U("&"):"";a.1j=2N+b.k.1y+"//"+j[l].t+b.k.3p+q+b.k.1d;a.1O=j[l].C;a.v.1h=\'2e\';4("2Q"n 6.8.f){a.v.2R=6.8.f.2Q}17.Y(a);w.Y(17);a.3W=(7(w,X){d 7(){4(!j[X].G){5.1o(f.U,X,1J,\'/\',B)}}})(w,j[l].X)}4("Z"n 6.8.f){H(3 1Q n 28[6.8.f.Z].h){h.v[1Q]=28[6.8.f.Z].h[1Q]}5.D(h,"x-"+6.8.f.Z)}4(6.8.1v===z){u.3X.Y(h)}o{u.2H("x-P-3Y").Y(h)}3 40=m;3 45=h.3D("3E");4(29>6.8.3H){w.v.2m="3N";w.v.3I="3J"}5.2E(Q,"3T",7(){w.v.1h=\'2e\';5.D(h,"x-1t");4(6.8.4b=="4B"){2m=w.4C;w.v.2t=2m*(-1)+"2b"}});h.4D=7(e){4(N e=="10"){e=4E}4(5.2I(e,11)){w.v.1h="2x";5.2w(h,"x-1t")}};4(6.8.2y){6.8.2y(h)}3 2g=0;3 2M=4A(7(){3 2s=(5.1M(h,"2u")==="4z");2g++;4(2g>4v||2s||6.8.1N===S){h.v.1h="2e";4(6.8.1N){h.v.2u="4w"}4x(2M);3 16=4y(5.1M(h,"16").W("2b",""));w.v.16=(16-2)+"2b"}},4L)}};3 5={2h:S,4N:z,1i:7(2j,2k){4(5.2h&&1e){4(2k){1e.1i(2k,2j)}o{1e.1i(2j)}}},O:7(s){d u.4P(s)},2G:7(s){d u.2H(s)},2E:7(18,1r,1s,2D){4(18.1a){18.1a(1r,1s,2D);d z}o 4(18.1x){3 r=18.1x(\'1t\'+1r,1s);d r}o{18[\'1t\'+1r]=1s;d z}},2I:7(e,1U){3 19=e.2J?e.2J:e.46==\'4J\'?e.4K:e.4F;4d(19&&19!=1U)19=19.4e;d(19!=1U)},2z:7(t,j){3 V=m;H(3 l n j){3 2L=j[l];4(2L.t==t){V=l}}d V},D:7(E,K){4(K&&N K==="4g"){3 1w=(K||"").1c(" ");4(E.4c===1){4(!E.M){E.M=K}o{3 M=" "+E.M+" ",26=E.M;H(3 c=0,2q=1w.F;c<2q;c++){4(M.15(" "+1w[c]+" ")<0){26+=" "+1w[c]}}E.M=26}}}},2w:7(E,K){E.M=E.M.W(1f 31(K,"g"),"")},2o:7(R){4(u.1a){u.1a("48",R,S)}o{11.2v(R)}},2v:7(R){4(N b.1a!="10")b.1a("49",R,S);o 4(N b.1x!="10"){b.1x("1n",R)}o{4(b.1n!=m){3 2n=b.1n;b.1n=7(e){2n(e);b[R]()}}o b.1n=R}},2l:7(j){H(P n j){d j[P]}},1o:7(C,K,1C,I,T,22){4(1C){3 3v=1f 3u();3 21=1f 3u(3v.4i()+(1C*4p*4q*24))}3 3s=C+"="+4r(K)+((1C)?"; 21="+21.4s():"")+((I)?"; I="+I:"")+((T)?"; T="+T:"")+((22)?"; 22":"");u.12=3s},1K:7(C){3 1B=C+"=";3 1E=u.12.15(1B);4(1E==-1){d m}3 1A=u.12.15(";",1E+1B.F);4(1A==-1){1A=u.12.F}d 4o(u.12.3B(1E+1B.F,1A))},4k:7(T,J){3 27=b.k.t.1c(\':\')[0];d((T==27)&&(J.15(\'://\'+27)==-1))},2A:7(9){3 V=m;H(3 l n 9){4(9[l].G){V=9[l].t}}d V},2p:7(T){3 1l=T.1c(".").4l();1l="."+1l[1]+"."+1l[0];d 1l},37:7(J){3 I=b.k.3p;4(J.4t(\'/\')==J.F-1){I=I.3B(1,I.F)}3 1z=b.k.1z;3 1y=b.k.1y+"//";3 1d=b.k.1d;d 1y+J+I+1z+1d},1M:7(1D,1T){4(1D.3l)3 y=1D.3l[1T];o 4(b.32)3 y=u.4j.32(1D,m).4n(1T);d y},23:7(C){C=C.W(/[\\[]/,"\\\\\\[").W(/[\\]]/,"\\\\\\]");3 30="[\\\\?&]"+C+"=([^&#]*)";3 2V=1f 31(30);3 1R=2V.4a(b.k.1j);4(1R==m)d m;o d 1R[1]}};6.5=5;6.2O=7(1g,B,9){3 2a=7(){4(5.23("2W")!==m){d 5.23("2W")}3 V=(1F.2X)?(1F.2X):(b.1F.L);3e{d V.2d()}2U(3t){d""}};3 3c=7(){d 2a().1c(\'-\')[0]};3 1G=7(A){5.1o(f.U,A.X,1J,\'/\',B,\'\');3 38=5.37(A.t);4(b.k.t!=A.t){6.1L.2f=z;b.k=38}};3 3d=7(){d(u.12.15(f.U+\'=\')==-1)?S:z};3 2c=7(){5.1o("1V",1,1J,\'/\',B,\'\');d(u.12.15("1V"+\'=\')==-1)?S:z};11.2i=7(p){3 1m=m;4(p.39){4(N 3g==="7"){1m=3g(p.13,p.9)}o{3 13=p.13.2d();4(13 n p.9&&13!=p.G.X.2d()){1m=p.9[13]}o{3 L=p.L;4(L!=p.G.X){4(p.L n p.9){1m=p.9[p.L]}}}}}d 1m};3 3a=7(){4(2c()){3 l=3k();4(9[l]){d 9[l]}d m}};3 3k=7(){d 5.1K(f.U)};3 4M=7(){3 J=5.1K(f.U);H(3 L n 9){4(J==9[L]){d J}}d m};11.3b=7(){3 A=3a();3 p={39:2c(),13:2a(),4O:1H,9:9,L:3c(),G:5.2l(9)};3 1b=m;4(1H===z){1G=7(A){1e.1i("4G 4I:");1e.1i(A)}}4(!3d()){1b=11.2i(p)}o{4(A&&A.t!=b.k.t){1b=A}o{1b=11.2i(p)}}4(1b){1G(1b)}};11.3b()};3e{3 f={3f:"x-3j",3i:"x-4u",3h:"x-47",2Z:"x-1I",3m:"x-1S",34:"x-P",3z:"x-3y",Q:"x-3y-1I",U:"4m",1N:z};3 9=m;3 3q=b.k.t;H(3 i=0;i<6.8.9.F;i++){H(3 A n 6.8.9[i]){4(3q==6.8.9[i][A].t){9=6.8.9[i];6.3A=9}}}4(9==m){9=6.8.9[6.8.9.F-1];6.3A=9;6.8.1G=S}4(9&&(N 4h=="10")){3 1g=5.2A(9);3 B=5.2p(1g);6.B=B;3 2C=(5.1K(f.U)=="2r");3 1P=(b.k.1j.1Z(/20/)!=m);3 1H=(b.k.1j.1Z(/1H/)!=m);4(1P){5.1o(f.U,"2r",1J,\'/\',B)}3 2P=(/4f/.1V(1F.4H));4(!1P&&(N 2F!="10"&&2F===z&&b.k.t==1g&&!2C&&!2P)){1f 6.2O(1g,B,9)}4(!6.1L.2f){5.2o(7(){6.1L.2B(9,B)})}4(N 2K!="10"&&2K===z){u.44("<1I 3Q=\'3Z\' 1j=\'"+6.8.42+"\'></1I>")}}}2U(3t){}',62,300,'|||var|if|lib|SmtMenu|function|sdata|sites||window||return||settings||root||langs|location||null|in|else|args||||host|document|style|items|smt||true|site|cookieDomain|name|addClass|elem|length|def|for|path|url|value|language|className|typeof|create|lang|triggerLink|fnc|false|domain|cookieName|ret|replace|code|appendChild|position|undefined|this|cookie|locale|topLi|indexOf|width|li|elm|reltg|addEventListener|targetSite|split|hash|console|new|originalDomain|display|log|href|currentLangSpan|dom|retVal|onload|setCookie|0px|languageName|evType|fn|on|arr|autoPlace|classNames|attachEvent|protocol|search|cookieEndIndex|prefix|expiresDays|el|cookieStartIndex|navigator|doRedirect|redirectDebug|link|360|getCookie|smdd|getStyle|defaultStyles|innerHTML|urlNoRedirect|rule|results|word|styleProp|handler|test|currentLang|langLabel|languageWord|match|smtNoRedir|expires|secure|getParam||qstring|setClass|currentHost|inlineStyles|langLength|getCurrentLocale|px|isCookiesEnabled|toLowerCase|block|redirecting|loadCount|debug|doRedirectByBrowserPreferences|str|title|getDefaultLang|height|oldOnload|addOnReadyEvent|getCookieDomain|cl|noredirect|styleLoaded|top|overflow|addOnloadEvent|removeClass|none|postRender|getLocFromAddress|getDefaultDomain|makeMenu|cookieNoRedirect|useCapture|addEvent|smtRedirect|get|getElementById|isMouseLeaveOrEnter|relatedTarget|smtDefaultStyles|obj|styleLoadInt|pre|redirect|isOpera|itemColor|color|isDefault|itemBg|catch|regex|smtLoc|userLanguage|right|linkClass|regexS|RegExp|getComputedStyle|smdebugurl|currentLangClass|preRender|auto|getUrlWithCurrentPath|newAddress|cookiesEnabled|getSiteByLastVisited|initialize|getCurrentLanguage|isCookieSet|try|scriptId|smtRedirectMapper|itemClass|rootClass|script|getLastVisitedByCookie|currentStyle|wordClass|selectedColor|span|pathname|currHost|address|curCookie|ex|Date|today|buttonBg|ul|trigger|triggerClass|currentSites|substring|backgroundColor|getElementsByTagName|LI|insertBefore|childNodes|scrollThresh|overflowY|scroll|topRight|bot|botRight|320px|absolute|toUpperCase|rel|push|languageword|click|join|toString|onclick|body|selector|stylesheet|timeout|fixed|stylePath|bottom|write|sfEls|type|item|DOMContentLoaded|load|exec|openDir|nodeType|while|parentNode|Opera|string|smtUnitTesting|getTime|defaultView|isRedirectNeeded|reverse|_smtLastVisitedHost|getPropertyValue|unescape|1000|3600|escape|toGMTString|lastIndexOf|menu|50|visible|clearInterval|parseFloat|hidden|setInterval|up|offsetHeight|onmouseout|event|fromElement|Redirecting|userAgent|to|mouseout|toElement|100|getValidLastVisitedHost|debugBrowserPref|debugging|createElement'.split('|'),0,{}))
    // END// end minified


    let languageWrapper = document.querySelector(".language-wrapper");

    Object.keys(SmtMenu.currentSites).forEach(function (lang, index) {
      const { code, name, def } = SmtMenu.currentSites[lang];
      if(def){
        currentLang = name;
        currentCode = code;
        console.log('active language', lang, currentLang);
      }
    });

    document.getElementsByClassName('current-locale')[0].innerHTML = currentLang;

  }());


  $('a.'+currentCode).addClass('selected');
  $('.language-selector').on('click', () => {
    $(".language-switcher").toggleClass('bds-hide');
  });

  document.addEventListener("click", function(event) {
    // if user clicks on the language switcher or selector, do nothing
    if (event.target.closest(".language-switcher") || event.target.closest(".language-selector"))
      return;
    // if user clicks outside, close the menu
    if(!$(".language-switcher").hasClass('bds-hide'))
      $(".language-switcher").addClass("bds-hide");
  });

</script>

{% endblock %}
